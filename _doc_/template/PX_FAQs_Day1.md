
# 2028 年暑期-初级班-Day1课程答疑

> Update: `2025/4/23 18:02`

### Q1. 请问什么时候使用全局暂元什么时候用局部暂用？在使用的时候有什么区别
答：在Stata中,全局和局部宏(在Stata中称为“暂元”)是两种用于存储文本的方法。它们的主要区别在于作用域和生命周期。
- 局部宏(Local Macros)的作用域仅限于定义它们的程序或命令块。一旦程序或命令块结束,局部宏就会消失。这使得局部宏非常适合在程序中临时存储和操作信息。例如，你可能会在一个循环中使用局部宏来存储每次迭代的结果。
- 全局宏(Global Macros)的作用域则是整个Stata会话。一旦你定义了一个全局宏,它就会一直存在,直到你明确地删除它,或者你结束了Stata会话。
global是在开始设定的，local更多地在命令块或者循环中短暂定义。
总的来说,需要在整个Stata会话中访问某个值时使用全局宏,需要临时存储某个值时使用局部宏。

(回答人：连玉君&李萌)

### Q2. Stata 中数据框的概念是什么？

答：Stata 中数据框 **frames** 是一个由行和列组成的表格，每一列代表一个变量，每一行代表一个观察值。每个变量可以有不同的数据类型，例如数值型、字符型、日期型等。数据框让我们可以看到、管理和操作数据，比如进行数据的筛选、排序、合并、计算等操作。在 Stata 中，我们可以使用命令如 `merge`、`append`、`sort` 等来对数据框内容进行填补、排序等。

相关推文如下：

- [郭盼亭](https://www.lianxh.cn/search.html?s=郭盼亭), 2023, [Stata：数据框纵向追加-append-fframeappend](https://www.lianxh.cn/details/1231.html), 连享会 No.1231.
- [张弛](https://www.lianxh.cn/search.html?s=张弛), 2024, [Stata 绘图：用 `geoplot` 绘制中国地图](https://www.lianxh.cn/details/1401.html), 连享会 No.1401.

(回答人：张莉)